<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="MyMine.fun - Уютный Minecraft сервер 1.20.1 с модами Create, Better Combat. Третий сезон!">
    <link rel="icon" type="image/png" href="favicon.png">
    <title>MyMine.fun | Season 3</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Poppins:wght@400;600;800&family=Courier+New&display=swap" rel="stylesheet">
</head>
<body>

    <header>
        <div class="logo">MyMine.fun</div>
        <nav>
            <button class="nav-link active" onclick="showSection('home')">Главная</button>
            <button class="nav-link" onclick="showSection('gallery-section')">Галерея</button>
            <button class="nav-link" onclick="showSection('mods-section')">О сервере</button>
        </nav>
        <button class="contact-btn" onclick="copyIp()">
            <span id="ip-text">play.mymine.fun</span>
        </button>
    </header>

    <main>
        <div id="slider-track">

            <div id="home" class="page-container">
                <div class="content-wrapper">
                    <section class="hero-block">
                        <div class="hero-bg-wrapper">
                            <img src="head.png" alt="MyMine Server Background" class="hero-bg">
                        </div>
                        <div class="hero-content">
                            <span class="season-badge">АКТУАЛЬНО: СЕЗОН 3</span>
                            <h1>Твой идеальный <br>мир Minecraft.</h1>
                            
                            <div class="server-status-widget">
                                <div class="status-indicator" id="status-dot"></div>
                                <div class="status-text">
                                    <span id="server-status">Проверка...</span>
                                    <span id="player-count" style="display:none;">• <b id="online-num">0</b> игроков</span>
                                </div>
                            </div>

                            <p>Create, Better Combat и уютная атмосфера. Версия 1.20.1 (Fabric).</p>
                            <button onclick="openDownloadMenu()" class="reserve-btn">Скачать Сборку</button>
                        </div>
                    </section>

                    <section class="history-tree-section">
                        <div class="tree-container">
                            <div class="season-node current-season">
                                <h2>💎 SEASON 3</h2>
                                <p>Текущий сезон.</p>
                            </div>
                            <div class="tree-connector">
                                <div class="vertical-line"></div>
                                <div class="horizontal-line"></div>
                            </div>
                            <div class="past-seasons-row">
                                <div class="season-node past-season">
                                    <h3>📜 SEASON 1</h3>
                                    <p>Завершен.</p>
                                </div>
                                <div class="season-node past-season">
                                    <h3>⚙️ SEASON 2</h3>
                                    <p>Завершен.</p>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>

            <div id="gallery-section" class="page-container">
                <div class="content-wrapper">
                    <div class="section-header">
                        <h2>Галерея</h2>
                        <p>Скоро здесь появятся скриншоты.</p>
                    </div>
                    <div class="photo-grid">
                        <div class="photo-card" onclick="openModal(this)">
                            <img src="1.png" alt="Скриншот 1">
                        </div>
    
                        <div class="photo-card" onclick="openModal(this)">
                            <img src="2.png" alt="Скриншот 2">
                        </div>
    
                        <div class="photo-card" onclick="openModal(this)">
                             <img src="3.png" alt="Скриншот 3">
                        </div>
</div>
                        </div>
                        
                        </div>
                </div>
            </div>

<div id="mods-section" class="page-container">
                 <div class="content-wrapper">
                     <div class="section-header">
                         <h2>Состав Сборки</h2>
                         <p>Мы отобрали лучшие моды для стабильной игры.</p>
                     </div>
                     
                     <div class="features-grid">
                        <div class="feature-card">
                            <div class="card-icon">⚙️</div>
                            <h3>Tech & Food</h3>
                            <ul>
                                <li>Create (Механизмы)</li>
                                <li>Farmer's Delight (Кулинария)</li>
                                <li>Автоматизация ферм</li>
                            </ul>
                        </div>

                        <div class="feature-card">
                            <div class="card-icon">⚔️</div>
                            <h3>Battle System</h3>
                            <ul>
                                <li>Better Combat (Физика боя)</li>
                                <li>Simply Swords (Новое оружие)</li>
                                <li>Eating Animation (Анимации еды)</li>
                            </ul>
                        </div>

                        <div class="feature-card">
                            <div class="card-icon">🌍</div>
                            <h3>Atmosphere</h3>
                            <ul>
                                <li>Terralith + Biomes O' Plenty</li>
                                <li>AmbientSounds + Visuality</li>
                                <li>Presence Footsteps (Звуки шагов)</li>
                            </ul>
                        </div>

                        <div class="feature-card">
                            <div class="card-icon">🎒</div>
                            <h3>Gameplay</h3>
                            <ul>
                                <li>Simple Voice Chat (Голос)</li>
                                <li>JourneyMap (Миникарта)</li>
                                <li>VeinMiner (Быстрая добыча)</li>
                                <li>Jade (Инфо о блоках)</li>
                            </ul>
                        </div> <div class="feature-card">
                            <div class="card-icon">👕</div>
                            <h3>Скины</h3>
                            <ul>
                                <li>FabricTailor (Скины)</li>
                                <li>Любой скин по нику/ссылке</li>
                                <li>Видно всем игрокам</li>
                                <li>Меняй прямо в игре!</li>
                            </ul>
                        </div>

                        <div class="feature-card">
                            <div class="card-icon">🔒</div>
                            <h3>Безопасность</h3>
                            <ul>
                                <li>EasyAuth (Авторизация)</li>
                                <li>Надежная защита аккаунта</li>
                                <li>Команды /register и /login</li>
                                <li>Авто-вход для лицензии</li>
                            </ul>
                        </div>

                    </div> <div class="admin-contact">
                        <div class="tg-card">
                            <div class="tg-info">
                                <h3>Связь с Админом</h3>
                                <a href="https://t.me/bluzn" target="_blank" class="tg-link">Telegram: @bluzn</a>
                            </div>
                        </div>
                    </div>
                </div> </div> `` 
        </main>
    <div id="download-overlay" class="split-overlay">
        <button class="close-split" onclick="closeDownloadMenu()">&times;</button>
        <div class="split-side side-standard">
            <div class="split-content">
                <h2>📦 FULL CLIENT</h2>
                <p>Полная сборка с модами (v1.0).</p>
                <a href="https://github.com/0xMewhx/SiteMyMine-3/releases/download/1.0/MyMineSborka.zip" class="split-btn">СКАЧАТЬ СБОРКУ</a>
                <div class="instructions-box">
                    <h4>⚠️ ВАЖНО:</h4>
                    <ul>
                        <li>🧠 Выдели <b>4GB+</b> RAM.</li>
                        <li>👀 Прорисовка <b><= 21</b>.</li>
                    </ul>
                    <div class="java-args-container">
                        <p>Java Аргументы (Нажми):</p>
                        <div class="code-block" onclick="copyJavaArgs(this)">
                            <span class="code-text">-XX:+UseG1GC -XX:MaxGCPauseMillis=50 -XX:G1HeapRegionSize=16M -XX:+AlwaysPreTouch -XX:+DisableExplicitGC</span>
                            <span class="copy-tooltip">СКОПИРОВАТЬ</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="split-side side-fresh">
            <div class="split-content">
                <h2>✨ VISUAL PACK</h2>
                <p>Текстуры и анимации.</p>
                <ul class="mod-list">
                    <li>💎 <b>ОЛМАЗ</b>давай добуду!)</li>
                    <li>🏹 <b>эт чё лук?</b></li>
                    <li>👾 <b>Enchanted Boss Bars</b> (RPG интерфейс)</li>
                    <li>🔊 <b>BCS</b> (Сочные звуки кликов)</li>
                </ul>
                <a href="https://github.com/pokox3proyoyo-dot/SiteMyMine-3/releases/download/1.0/VisualPack.zip" class="split-btn btn-accent">СКАЧАТЬ ПАК</a>
                <div class="author-credit">
                    <small>⚠️ Распаковать в <i>resourcepacks</i>.</small>
                </div>
            </div>
        </div>
    </div>

    <div id="imgModal" class="modal" onclick="closeModal()">
        <span class="close">&times;</span>
        <img class="modal-content" id="modalImg">
    </div>

    <script>
        const sectionOrder = ['home', 'gallery-section', 'mods-section'];

        function showSection(sectionId) {
            const index = sectionOrder.indexOf(sectionId);
            const track = document.getElementById('slider-track');
            const translateValue = -(index * 100); 
            track.style.transform = `translateX(${translateValue}vw)`;

            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
            const btns = document.querySelectorAll('.nav-link');
            if(sectionId === 'home') btns[0].classList.add('active');
            if(sectionId === 'gallery-section') btns[1].classList.add('active');
            if(sectionId === 'mods-section') btns[2].classList.add('active');

            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function copyIp() {
            navigator.clipboard.writeText("play.mymine.fun");
            const btnText = document.getElementById("ip-text");
            const btn = document.querySelector(".contact-btn");
            const originalText = btnText.innerText;
            btnText.innerText = "СКОПИРОВАНО!";
            btn.classList.add('success');
            setTimeout(() => {
                btnText.innerText = originalText;
                btn.classList.remove('success');
            }, 2000);
        }

        // === ОБНОВЛЕННАЯ ЛОГИКА СТАТУСА ===
        function checkServerStatus() {
            const txt = document.getElementById('server-status');
            const dot = document.getElementById('status-dot');
            const onlineNum = document.getElementById('online-num');
            const playerCountBox = document.getElementById('player-count');

            // Добавляем timestamp (?t=...), чтобы избежать кэширования браузером
            fetch('https://api.mcsrvstat.us/2/play.mymine.fun?t=' + Date.now())
                .then(res => res.json())
                .then(data => {
                    if (data.online) {
                        txt.innerText = "ОНЛАЙН";
                        txt.style.color = "#27ae60";
                        dot.style.background = "#27ae60";
                        dot.style.boxShadow = "0 0 10px #27ae60";
                        
                        // Плавное обновление числа
                        onlineNum.innerText = data.players.online;
                        playerCountBox.style.display = "inline";
                    } else {
                        txt.innerText = "ОФФЛАЙН";
                        txt.style.color = "#e74c3c";
                        dot.style.background = "#e74c3c";
                        dot.style.boxShadow = "none";
                        // Если оффлайн, можно скрыть счетчик или оставить как есть
                    }
                })
                .catch(e => {
                    console.log("Ошибка получения статуса:", e);
                    // Не меняем статус на "Оффлайн" сразу при ошибке сети, чтобы не мигало
                });
        }

        // Запускаем проверку при загрузке
        checkServerStatus();

        // Запускаем автоматическое обновление каждые 15 секунд (15000 мс)
        setInterval(checkServerStatus, 15000);
        // ==================================

        function openDownloadMenu() { document.getElementById("download-overlay").classList.add("active"); document.body.style.overflow = "hidden"; }
        function closeDownloadMenu() { document.getElementById("download-overlay").classList.remove("active"); document.body.style.overflow = "auto"; }

        function copyJavaArgs(element) {
            const args = "-XX:+UseG1GC -XX:MaxGCPauseMillis=50 -XX:G1HeapRegionSize=16M -XX:+AlwaysPreTouch -XX:+DisableExplicitGC";
            navigator.clipboard.writeText(args).then(() => {
                const tooltip = element.querySelector('.copy-tooltip');
                element.classList.add('copied');
                tooltip.innerText = "СКОПИРОВАНО! ✅";
                setTimeout(() => { element.classList.remove('copied'); tooltip.innerText = "СКОПИРОВАТЬ"; }, 2000);
            });
        }

        function openModal(el) {
            const modal = document.getElementById("imgModal");
            document.getElementById("modalImg").src = el.querySelector('img').src;
            modal.style.display = "flex";
        }
        function closeModal() { document.getElementById("imgModal").style.display = "none"; }

        document.addEventListener("DOMContentLoaded", function() {
            // ... (код снега оставляем без изменений) ...
             const snowContainer = document.createElement("div");
            snowContainer.style.cssText = "position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:9999;";
            document.body.appendChild(snowContainer);
            setInterval(() => {
                const snowflake = document.createElement("div");
                snowflake.innerHTML = "❄";
                snowflake.style.cssText = `position:absolute;color:rgba(255,255,255,0.6);font-size:${Math.random()*15+10}px;left:${Math.random()*100}vw;opacity:${Math.random()};top:-50px;`;
                snowContainer.appendChild(snowflake);
                let pos = -50, speed = Math.random()*2+1;
                function fall() { pos += speed; snowflake.style.top = pos + "px"; if(pos < window.innerHeight) requestAnimationFrame(fall); else snowflake.remove(); }
                requestAnimationFrame(fall);
            }, 300);
        });
    </script>
</body>
</html>
